依赖库：

1. 使用sharp库来处理图片压缩和调整大小。可以通过运行npm install sharp来安装。
2. 使用readline模块来获取用户输入。
3. 使用fs模块来处理文件系统操作。

功能：

1. 脚本会提示用户输入待压缩文件夹路径。
2. 如果目标文件夹不存在，会提示用户并退出。
3. 如果输出文件夹已存在，也会提示用户并退出。
4. 脚本会遍历输入文件夹中的图片文件（支持.jpg、.jpeg、.png格式），并将其压缩到指定大小（400x400）。
5. 压缩后的图片会保存到./compress/目录下，与输入文件夹同名的子目录中。

运行环境：

1. 确保安装了Node.js。
2. 在项目目录下运行npm install sharp安装依赖。
3. 保存上述代码为compress.js，然后运行node compress.js。

**将脚本放到每个版式目录下，将生成的compress目录下的img文件夹去替换版式目录下的img文件夹**